{% extends 'base.html' %}

{% block content %}

<div class="container">
    <div class="row justify-content-center align-items-center mt-3">
        <div class="col-md-3">
            <h1 class="text-center mb-4">Профиль</h1>
            <form method="post" enctype="multipart/form-data">
                {% csrf_token %}
                <!-- Проверка есть ли фото у пользователя -->
                {% if user.photo %}
                <p><img src="{{ user.photo.url }}" width="200" height="300"></p>
                {% else %}
                <p><img src="{{ default_image }}" width="200" height="300"></p>
                {% endif %}

                <div class="form-error">{{ form.non_field_error }}</div>
                <input type="hidden" name="next" value="{{ next }}"/>
                {% for f in form %}
                <p><label class="form-label" for="{{ f.id_for_label }}">{{f.label}}</label>{{ f }}</p>
                <div class="form-error">{{ f.error }}</div>
                {% endfor %}
                <button class="btn btn-primary w-100 py-2" type="submit">Сохранить изменения</button>
            </form>
        </div>
    </div>
</div>

{% endblock %}